"""
K2 — Максимальный элемент списка: стратегия "Разделяй и властвуй"
-------------------------------------------------------------------
Стратегия "Разделяй и властвуй" (Divide and Conquer):
  1. Разделить — разбить задачу на меньшие подзадачи
  2. Властвовать — решить каждую подзадачу рекурсивно
  3. Объединить — собрать ответ из результатов подзадач

Для нахождения максимума:
  - Делим список на две половины
  - Находим максимум в каждой половине рекурсивно
  - Возвращаем больший из двух максимумов

Базовый случай: список из одного элемента — он и есть максимум

Временная сложность:        O(n)  — каждый элемент смотрим ровно раз
Пространственная сложность: O(log n) — глубина стека
"""


def max_element(lst: list, left: int = None, right: int = None):
    """
    Находит максимальный элемент в списке методом "разделяй и властвуй".

    Параметры:
        lst   — список чисел (непустой)
        left  — левая граница текущего участка
        right — правая граница текущего участка

    Возвращает:
        максимальный элемент в lst[left:right+1]
    """
    if not lst:
        raise ValueError("Список не должен быть пустым")

    # Инициализируем границы при первом вызове
    if left is None:
        left = 0
    if right is None:
        right = len(lst) - 1

    # Базовый случай: один элемент — он и есть максимум
    if left == right:
        return lst[left]

    # Делим список пополам
    mid = (left + right) // 2

    # Рекурсивно находим максимум в левой и правой половинах
    max_left  = max_element(lst, left,    mid)    # максимум левой части
    max_right = max_element(lst, mid + 1, right)  # максимум правой части

    # Объединяем: возвращаем больший из двух максимумов
    return max_left if max_left >= max_right else max_right


# ---------------------------------------------------------------------------
# Демонстрация
# ---------------------------------------------------------------------------
if __name__ == "__main__":
    примеры = [
        [3],
        [5, 1],
        [3, 7, 2, 9, 1, 5],
        [-10, -3, -7, -1],
        [100, 0, 50, 75, 25],
    ]

    for lst in примеры:
        result = max_element(lst)
        print(f"max_element({lst}) = {result}")
