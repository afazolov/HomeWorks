"""
Алгоритм бинарного поиска
--------------------------
Реализует бинарный поиск и демонстрирует его работу.
"""


def binary_search(lst: list, target) -> int:
    """
    Бинарный поиск элемента target в отсортированном списке lst.

    На каждом шаге делит оставшуюся часть списка пополам:
    - если средний элемент равен target — возвращаем его индекс;
    - если target меньше — ищем в левой половине;
    - если target больше — ищем в правой половине.

    Возвращает индекс первого найденного вхождения,
    или -1, если элемент не найден.

    Временна́я сложность:       O(log n)
    Пространственная сложность: O(1)
    """
    left = 0               # Левая граница поиска
    right = len(lst) - 1   # Правая граница поиска

    while left <= right:
        mid = (left + right) // 2  # Индекс среднего элемента

        if lst[mid] == target:
            return mid          # Нашли — возвращаем позицию
        elif lst[mid] < target:
            left = mid + 1      # Ищем в правой половине
        else:
            right = mid - 1     # Ищем в левой половине

    return -1  # Элемент не найден


# ---------------------------------------------------------------------------
# Быстрая демонстрация работы функции
# ---------------------------------------------------------------------------
if __name__ == "__main__":
    # Список обязательно должен быть отсортирован!
    sample = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

    for target in [3, 9, 42]:
        result = binary_search(sample, target)
        if result != -1:
            print(f"Элемент {target} найден по индексу {result}")
        else:
            print(f"Элемент {target} не найден (возвращено -1)")
